{"ast":null,"code":"import { FormControl, FormGroup } from '@angular/forms';\nimport { Category } from 'src/app/models/category.model';\nimport { Product } from 'src/app/models/product.model';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/product.service\";\nimport * as i2 from \"src/app/services/category.service\";\nimport * as i3 from \"@angular/router\";\nfunction EditProductComponent_form_0_option_23_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 21);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const category_r2 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", category_r2.id);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(category_r2.name);\n  }\n}\nfunction EditProductComponent_form_0_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"form\", 1);\n    i0.ɵɵlistener(\"ngSubmit\", function EditProductComponent_form_0_Template_form_ngSubmit_0_listener() {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r3 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r3.handleSubmit());\n    });\n    i0.ɵɵelementStart(1, \"h1\", 2);\n    i0.ɵɵtext(2, \"Edit Product\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 3);\n    i0.ɵɵelement(4, \"input\", 4);\n    i0.ɵɵelementStart(5, \"label\", 5);\n    i0.ɵɵtext(6, \"Name\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(7, \"div\", 3);\n    i0.ɵɵelement(8, \"input\", 6);\n    i0.ɵɵelementStart(9, \"label\", 7);\n    i0.ɵɵtext(10, \"Description\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(11, \"div\", 3);\n    i0.ɵɵelement(12, \"input\", 8);\n    i0.ɵɵelementStart(13, \"label\", 9);\n    i0.ɵɵtext(14, \"Image URL\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(15, \"div\", 3);\n    i0.ɵɵelement(16, \"input\", 10);\n    i0.ɵɵelementStart(17, \"label\", 11);\n    i0.ɵɵtext(18, \"Price\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(19, \"div\", 12)(20, \"select\", 13)(21, \"option\", 14);\n    i0.ɵɵtext(22, \"Select Category\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(23, EditProductComponent_form_0_option_23_Template, 2, 2, \"option\", 15);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(24, \"div\", 3);\n    i0.ɵɵelement(25, \"input\", 16);\n    i0.ɵɵelementStart(26, \"label\", 11);\n    i0.ɵɵtext(27, \"Nr. in Stock\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(28, \"div\", 17);\n    i0.ɵɵelement(29, \"input\", 18);\n    i0.ɵɵelementStart(30, \"label\", 19);\n    i0.ɵɵtext(31, \" Product is active \");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(32, \"button\", 20);\n    i0.ɵɵtext(33, \"Edit Product\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"formGroup\", ctx_r0.editProductForm);\n    i0.ɵɵadvance(23);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.categories);\n  }\n}\nexport class EditProductComponent {\n  constructor(productService, categoryService, route) {\n    this.productService = productService;\n    this.categoryService = categoryService;\n    this.route = route;\n    this.categories = [];\n  }\n  ngOnInit() {\n    const productId = this.route.snapshot.paramMap.get(\"id\");\n    if (productId === null) {\n      return;\n    }\n    this.productService.getProduct(Number(productId)).subscribe(data => {\n      this.product = data;\n      this.editProductForm = new FormGroup({\n        name: new FormControl(this.product.name),\n        description: new FormControl(this.product.description),\n        image: new FormControl(this.product.image),\n        price: new FormControl(this.product.price),\n        category: new FormControl(this.product.category),\n        stock: new FormControl(this.product.active),\n        active: new FormControl(this.product.active)\n      });\n      console.log(this.product);\n    });\n    this.categoryService.getCategories().subscribe(data => this.categories = data);\n  }\n  handleSubmit() {\n    const formValue = this.editProductForm.value;\n    const newProduct = new Product(formValue.name, formValue.price, formValue.image, formValue.active, formValue.description, formValue.stock, new Category(formValue.category), this.product.id);\n    console.log(newProduct);\n    this.productService.editProduct(newProduct).subscribe();\n  }\n}\nEditProductComponent.ɵfac = function EditProductComponent_Factory(t) {\n  return new (t || EditProductComponent)(i0.ɵɵdirectiveInject(i1.ProductService), i0.ɵɵdirectiveInject(i2.CategoryService), i0.ɵɵdirectiveInject(i3.ActivatedRoute));\n};\nEditProductComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: EditProductComponent,\n  selectors: [[\"app-edit-product\"]],\n  decls: 1,\n  vars: 1,\n  consts: [[\"class\", \"m-3 border border-dark p-3 shadow-lg p-3 mb-5 bg-white rounded\", \"style\", \"width: 400px\", 3, \"formGroup\", \"ngSubmit\", 4, \"ngIf\"], [1, \"m-3\", \"border\", \"border-dark\", \"p-3\", \"shadow-lg\", \"p-3\", \"mb-5\", \"bg-white\", \"rounded\", 2, \"width\", \"400px\", 3, \"formGroup\", \"ngSubmit\"], [1, \"text-center\", \"mb-3\"], [1, \"form-outline\", \"mb-4\", \"bg-light\"], [\"formControlName\", \"name\", \"type\", \"text\", \"id\", \"name\", 1, \"form-control\"], [\"for\", \"name\", 1, \"form-label\"], [\"formControlName\", \"description\", \"type\", \"text\", \"id\", \"description\", 1, \"form-control\"], [\"for\", \"description\", 1, \"form-label\"], [\"formControlName\", \"image\", \"type\", \"text\", \"id\", \"image\", 1, \"form-control\"], [\"for\", \"image\", 1, \"form-label\"], [\"formControlName\", \"price\", \"type\", \"number\", \"id\", \"price\", 1, \"form-control\"], [\"for\", \"price\", 1, \"form-label\"], [1, \"input-group\", \"mb-3\", \"bg-light\"], [\"formControlName\", \"category\", \"id\", \"category\", 1, \"w-100\", \"bg-light\"], [\"selected\", \"\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [\"formControlName\", \"stock\", \"type\", \"number\", \"id\", \"price\", 1, \"form-control\"], [1, \"form-check\", \"d-flex\", \"justify-content-start\", \"mb-4\"], [\"formControlName\", \"active\", \"type\", \"checkbox\", \"value\", \"\", \"id\", \"form4Example4\", \"checked\", \"\", 1, \"form-check-input\", \"me-2\"], [\"for\", \"form4Example4\", 1, \"form-check-label\"], [\"type\", \"submit\", 1, \"btn\", \"btn-primary\", \"btn-block\", \"mb-4\"], [3, \"value\"]],\n  template: function EditProductComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵtemplate(0, EditProductComponent_form_0_Template, 34, 2, \"form\", 0);\n    }\n    if (rf & 2) {\n      i0.ɵɵproperty(\"ngIf\", ctx.product !== undefined);\n    }\n  },\n  styles: [\"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"names":["FormControl","FormGroup","Category","Product","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵproperty","category_r2","id","ɵɵadvance","ɵɵtextInterpolate","name","ɵɵlistener","EditProductComponent_form_0_Template_form_ngSubmit_0_listener","ɵɵrestoreView","_r4","ctx_r3","ɵɵnextContext","ɵɵresetView","handleSubmit","ɵɵelement","ɵɵtemplate","EditProductComponent_form_0_option_23_Template","ctx_r0","editProductForm","categories","EditProductComponent","constructor","productService","categoryService","route","ngOnInit","productId","snapshot","paramMap","get","getProduct","Number","subscribe","data","product","description","image","price","category","stock","active","console","log","getCategories","formValue","value","newProduct","editProduct","ɵɵdirectiveInject","i1","ProductService","i2","CategoryService","i3","ActivatedRoute","selectors","decls","vars","consts","template","EditProductComponent_Template","rf","ctx","EditProductComponent_form_0_Template","undefined"],"sources":["/Users/krkara/Documents/GitHub/Spring/webshop-frontend/src/app/admin/edit-product/edit-product.component.ts","/Users/krkara/Documents/GitHub/Spring/webshop-frontend/src/app/admin/edit-product/edit-product.component.html"],"sourcesContent":["import { Component } from '@angular/core';\nimport { FormControl, FormControlName, FormGroup, NgForm } from '@angular/forms';\nimport { ActivatedRoute } from '@angular/router';\nimport { Category } from 'src/app/models/category.model';\nimport { Product } from 'src/app/models/product.model';\nimport { CategoryService } from 'src/app/services/category.service';\nimport { ProductService } from 'src/app/services/product.service';\n\n@Component({\n  selector: 'app-edit-product',\n  templateUrl: './edit-product.component.html',\n  styleUrls: ['./edit-product.component.scss']\n})\nexport class EditProductComponent {\n  categories: Category[] = [];\n  product!: Product;\n  editProductForm!: FormGroup;\n\n  constructor(private productService: ProductService,\n    private categoryService: CategoryService,\n    private route: ActivatedRoute) {}\n\n  ngOnInit() {\n    const productId = this.route.snapshot.paramMap.get(\"id\");\n    if (productId === null) {\n      return;\n    }\n    this.productService.getProduct(Number(productId)).subscribe(data =>{\n      this.product = data;\n      this.editProductForm = new FormGroup({\n        name: new FormControl(this.product.name),\n        description: new FormControl(this.product.description),\n        image: new FormControl(this.product.image),\n        price: new FormControl(this.product.price),\n        category: new FormControl(this.product.category),\n        stock: new FormControl(this.product.active),\n        active: new FormControl(this.product.active),\n      });  \n      console.log(this.product);\n    });\n\n    this.categoryService.getCategories().subscribe(data => \n      this.categories = data\n    );\n  }\n\n  handleSubmit() {\n    const formValue = this.editProductForm.value;\n\n    const newProduct = new Product(\n      formValue.name,\n      formValue.price,\n      formValue.image,\n      formValue.active,\n      formValue.description,\n      formValue.stock,\n      new Category(formValue.category),\n      this.product.id\n    );\n\n    console.log(newProduct);\n\n    this.productService.editProduct(newProduct).subscribe();\n\n  }\n}\n","<form *ngIf=\"product !== undefined\" (ngSubmit)=\"handleSubmit()\" [formGroup]=\"editProductForm\" class=\"m-3 border border-dark p-3 shadow-lg p-3 mb-5 bg-white rounded\"\n      style=\"width: 400px\">\n  <h1 class=\"text-center mb-3\">Edit Product</h1>\n\n  <div class=\"form-outline mb-4 bg-light\">\n    <input formControlName=\"name\" type=\"text\" id=\"name\" class=\"form-control\" />\n    <label class=\"form-label\" for=\"name\">Name</label>\n  </div>\n\n\n  <div class=\"form-outline mb-4 bg-light\">\n    <input formControlName=\"description\" type=\"text\" id=\"description\" class=\"form-control\" />\n    <label class=\"form-label\" for=\"description\">Description</label>\n  </div>\n\n  <div class=\"form-outline mb-4 bg-light\">\n    <input formControlName=\"image\" type=\"text\" id=\"image\" class=\"form-control\" />\n    <label class=\"form-label\" for=\"image\">Image URL</label>\n  </div>\n\n  <div class=\"form-outline mb-4 bg-light\">\n    <input formControlName=\"price\" type=\"number\" id=\"price\" class=\"form-control\" />\n    <label class=\"form-label\" for=\"price\">Price</label>\n  </div>\n\n  <div class=\"input-group mb-3 bg-light\">\n    <select formControlName=\"category\" class=\"w-100 bg-light\" id=\"category\">\n      <option selected>Select Category</option>\n      <!-- <option value=\"1\">One</option>\n      <option value=\"2\">Two</option>\n      <option value=\"3\">Three</option>     property binding   string interpolation -->\n      <option *ngFor=\"let category of categories\" [value]=\"category.id\">{{category.name}}</option>\n    </select>\n  </div>\n\n  <div class=\"form-outline mb-4 bg-light\">\n    <input formControlName=\"stock\" type=\"number\" id=\"price\" class=\"form-control\" />\n    <label class=\"form-label\" for=\"price\">Nr. in Stock</label>\n  </div>\n\n  <div class=\"form-check d-flex justify-content-start mb-4\">\n    <input formControlName=\"active\" class=\"form-check-input me-2\" type=\"checkbox\" value=\"\" id=\"form4Example4\" checked />\n    <label class=\"form-check-label\" for=\"form4Example4\">\n      Product is active\n    </label>\n  </div>\n\n  <button type=\"submit\" class=\"btn btn-primary btn-block mb-4\">Edit Product</button>\n</form>"],"mappings":"AACA,SAASA,WAAW,EAAmBC,SAAS,QAAgB,gBAAgB;AAEhF,SAASC,QAAQ,QAAQ,+BAA+B;AACxD,SAASC,OAAO,QAAQ,8BAA8B;;;;;;;IC2BhDC,EAAA,CAAAC,cAAA,iBAAkE;IAAAD,EAAA,CAAAE,MAAA,GAAiB;IAAAF,EAAA,CAAAG,YAAA,EAAS;;;;IAAhDH,EAAA,CAAAI,UAAA,UAAAC,WAAA,CAAAC,EAAA,CAAqB;IAACN,EAAA,CAAAO,SAAA,GAAiB;IAAjBP,EAAA,CAAAQ,iBAAA,CAAAH,WAAA,CAAAI,IAAA,CAAiB;;;;;;IA/BzFT,EAAA,CAAAC,cAAA,cAC2B;IADSD,EAAA,CAAAU,UAAA,sBAAAC,8DAAA;MAAAX,EAAA,CAAAY,aAAA,CAAAC,GAAA;MAAA,MAAAC,MAAA,GAAAd,EAAA,CAAAe,aAAA;MAAA,OAAYf,EAAA,CAAAgB,WAAA,CAAAF,MAAA,CAAAG,YAAA,EAAc;IAAA,EAAC;IAE7DjB,EAAA,CAAAC,cAAA,YAA6B;IAAAD,EAAA,CAAAE,MAAA,mBAAY;IAAAF,EAAA,CAAAG,YAAA,EAAK;IAE9CH,EAAA,CAAAC,cAAA,aAAwC;IACtCD,EAAA,CAAAkB,SAAA,eAA2E;IAC3ElB,EAAA,CAAAC,cAAA,eAAqC;IAAAD,EAAA,CAAAE,MAAA,WAAI;IAAAF,EAAA,CAAAG,YAAA,EAAQ;IAInDH,EAAA,CAAAC,cAAA,aAAwC;IACtCD,EAAA,CAAAkB,SAAA,eAAyF;IACzFlB,EAAA,CAAAC,cAAA,eAA4C;IAAAD,EAAA,CAAAE,MAAA,mBAAW;IAAAF,EAAA,CAAAG,YAAA,EAAQ;IAGjEH,EAAA,CAAAC,cAAA,cAAwC;IACtCD,EAAA,CAAAkB,SAAA,gBAA6E;IAC7ElB,EAAA,CAAAC,cAAA,gBAAsC;IAAAD,EAAA,CAAAE,MAAA,iBAAS;IAAAF,EAAA,CAAAG,YAAA,EAAQ;IAGzDH,EAAA,CAAAC,cAAA,cAAwC;IACtCD,EAAA,CAAAkB,SAAA,iBAA+E;IAC/ElB,EAAA,CAAAC,cAAA,iBAAsC;IAAAD,EAAA,CAAAE,MAAA,aAAK;IAAAF,EAAA,CAAAG,YAAA,EAAQ;IAGrDH,EAAA,CAAAC,cAAA,eAAuC;IAElBD,EAAA,CAAAE,MAAA,uBAAe;IAAAF,EAAA,CAAAG,YAAA,EAAS;IAIzCH,EAAA,CAAAmB,UAAA,KAAAC,8CAAA,qBAA4F;IAC9FpB,EAAA,CAAAG,YAAA,EAAS;IAGXH,EAAA,CAAAC,cAAA,cAAwC;IACtCD,EAAA,CAAAkB,SAAA,iBAA+E;IAC/ElB,EAAA,CAAAC,cAAA,iBAAsC;IAAAD,EAAA,CAAAE,MAAA,oBAAY;IAAAF,EAAA,CAAAG,YAAA,EAAQ;IAG5DH,EAAA,CAAAC,cAAA,eAA0D;IACxDD,EAAA,CAAAkB,SAAA,iBAAoH;IACpHlB,EAAA,CAAAC,cAAA,iBAAoD;IAClDD,EAAA,CAAAE,MAAA,2BACF;IAAAF,EAAA,CAAAG,YAAA,EAAQ;IAGVH,EAAA,CAAAC,cAAA,kBAA6D;IAAAD,EAAA,CAAAE,MAAA,oBAAY;IAAAF,EAAA,CAAAG,YAAA,EAAS;;;;IA/CpBH,EAAA,CAAAI,UAAA,cAAAiB,MAAA,CAAAC,eAAA,CAA6B;IA+B1DtB,EAAA,CAAAO,SAAA,IAAa;IAAbP,EAAA,CAAAI,UAAA,YAAAiB,MAAA,CAAAE,UAAA,CAAa;;;ADlBhD,OAAM,MAAOC,oBAAoB;EAK/BC,YAAoBC,cAA8B,EACxCC,eAAgC,EAChCC,KAAqB;IAFX,KAAAF,cAAc,GAAdA,cAAc;IACxB,KAAAC,eAAe,GAAfA,eAAe;IACf,KAAAC,KAAK,GAALA,KAAK;IANf,KAAAL,UAAU,GAAe,EAAE;EAMO;EAElCM,QAAQA,CAAA;IACN,MAAMC,SAAS,GAAG,IAAI,CAACF,KAAK,CAACG,QAAQ,CAACC,QAAQ,CAACC,GAAG,CAAC,IAAI,CAAC;IACxD,IAAIH,SAAS,KAAK,IAAI,EAAE;MACtB;;IAEF,IAAI,CAACJ,cAAc,CAACQ,UAAU,CAACC,MAAM,CAACL,SAAS,CAAC,CAAC,CAACM,SAAS,CAACC,IAAI,IAAG;MACjE,IAAI,CAACC,OAAO,GAAGD,IAAI;MACnB,IAAI,CAACf,eAAe,GAAG,IAAIzB,SAAS,CAAC;QACnCY,IAAI,EAAE,IAAIb,WAAW,CAAC,IAAI,CAAC0C,OAAO,CAAC7B,IAAI,CAAC;QACxC8B,WAAW,EAAE,IAAI3C,WAAW,CAAC,IAAI,CAAC0C,OAAO,CAACC,WAAW,CAAC;QACtDC,KAAK,EAAE,IAAI5C,WAAW,CAAC,IAAI,CAAC0C,OAAO,CAACE,KAAK,CAAC;QAC1CC,KAAK,EAAE,IAAI7C,WAAW,CAAC,IAAI,CAAC0C,OAAO,CAACG,KAAK,CAAC;QAC1CC,QAAQ,EAAE,IAAI9C,WAAW,CAAC,IAAI,CAAC0C,OAAO,CAACI,QAAQ,CAAC;QAChDC,KAAK,EAAE,IAAI/C,WAAW,CAAC,IAAI,CAAC0C,OAAO,CAACM,MAAM,CAAC;QAC3CA,MAAM,EAAE,IAAIhD,WAAW,CAAC,IAAI,CAAC0C,OAAO,CAACM,MAAM;OAC5C,CAAC;MACFC,OAAO,CAACC,GAAG,CAAC,IAAI,CAACR,OAAO,CAAC;IAC3B,CAAC,CAAC;IAEF,IAAI,CAACX,eAAe,CAACoB,aAAa,EAAE,CAACX,SAAS,CAACC,IAAI,IACjD,IAAI,CAACd,UAAU,GAAGc,IAAI,CACvB;EACH;EAEApB,YAAYA,CAAA;IACV,MAAM+B,SAAS,GAAG,IAAI,CAAC1B,eAAe,CAAC2B,KAAK;IAE5C,MAAMC,UAAU,GAAG,IAAInD,OAAO,CAC5BiD,SAAS,CAACvC,IAAI,EACduC,SAAS,CAACP,KAAK,EACfO,SAAS,CAACR,KAAK,EACfQ,SAAS,CAACJ,MAAM,EAChBI,SAAS,CAACT,WAAW,EACrBS,SAAS,CAACL,KAAK,EACf,IAAI7C,QAAQ,CAACkD,SAAS,CAACN,QAAQ,CAAC,EAChC,IAAI,CAACJ,OAAO,CAAChC,EAAE,CAChB;IAEDuC,OAAO,CAACC,GAAG,CAACI,UAAU,CAAC;IAEvB,IAAI,CAACxB,cAAc,CAACyB,WAAW,CAACD,UAAU,CAAC,CAACd,SAAS,EAAE;EAEzD;;AAnDWZ,oBAAoB,C;mBAApBA,oBAAoB,EAAAxB,EAAA,CAAAoD,iBAAA,CAAAC,EAAA,CAAAC,cAAA,GAAAtD,EAAA,CAAAoD,iBAAA,CAAAG,EAAA,CAAAC,eAAA,GAAAxD,EAAA,CAAAoD,iBAAA,CAAAK,EAAA,CAAAC,cAAA;AAAA;AAApBlC,oBAAoB,C;QAApBA,oBAAoB;EAAAmC,SAAA;EAAAC,KAAA;EAAAC,IAAA;EAAAC,MAAA;EAAAC,QAAA,WAAAC,8BAAAC,EAAA,EAAAC,GAAA;IAAA,IAAAD,EAAA;MCbjCjE,EAAA,CAAAmB,UAAA,IAAAgD,oCAAA,mBAgDO;;;MAhDAnE,EAAA,CAAAI,UAAA,SAAA8D,GAAA,CAAA5B,OAAA,KAAA8B,SAAA,CAA2B"},"metadata":{},"sourceType":"module","externalDependencies":[]}