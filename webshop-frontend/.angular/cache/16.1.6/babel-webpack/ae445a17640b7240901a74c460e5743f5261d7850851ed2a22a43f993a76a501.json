{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/product.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/router\";\nfunction MaintainProductsComponent_tr_17_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\");\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"td\");\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"td\");\n    i0.ɵɵtext(12);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"td\")(14, \"button\", 1);\n    i0.ɵɵlistener(\"click\", function MaintainProductsComponent_tr_17_Template_button_click_14_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r3);\n      const product_r1 = restoredCtx.$implicit;\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.decreaseStock(product_r1));\n    });\n    i0.ɵɵtext(15, \"V\\u00E4henda kogust\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(16, \"button\", 2);\n    i0.ɵɵlistener(\"click\", function MaintainProductsComponent_tr_17_Template_button_click_16_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r3);\n      const product_r1 = restoredCtx.$implicit;\n      const ctx_r4 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r4.increaseStock(product_r1));\n    });\n    i0.ɵɵtext(17, \"Suurenda kogust\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(18, \"button\", 3);\n    i0.ɵɵtext(19, \"Muuda toodet\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(20, \"button\", 4);\n    i0.ɵɵlistener(\"click\", function MaintainProductsComponent_tr_17_Template_button_click_20_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r3);\n      const product_r1 = restoredCtx.$implicit;\n      const ctx_r5 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r5.deleteProduct(product_r1));\n    });\n    i0.ɵɵtext(21, \"Eemalda toode\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const product_r1 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(product_r1.id);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(product_r1.name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"\", product_r1.price, \" \\u20AC\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(product_r1.category.name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(product_r1.description);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(product_r1.stock);\n    i0.ɵɵadvance(6);\n    i0.ɵɵpropertyInterpolate1(\"routerLink\", \"/muuda-toode/\", product_r1.id, \"\");\n  }\n}\nexport class MaintainProductsComponent {\n  constructor(prodcuctService) {\n    this.prodcuctService = prodcuctService;\n    this.products = [];\n  } // Dependency Injection\n  ngOnInit() {\n    this.prodcuctService.getProducts().subscribe(res => this.products = res);\n  }\n  deleteProduct(product) {\n    this.prodcuctService.deleteProduct(product).subscribe(res => this.products = res);\n  }\n  decreaseStock(product) {\n    this.prodcuctService.decreaseStock(product);\n  }\n  increaseStock(product) {\n    this.prodcuctService.increaseStock(product);\n  }\n}\nMaintainProductsComponent.ɵfac = function MaintainProductsComponent_Factory(t) {\n  return new (t || MaintainProductsComponent)(i0.ɵɵdirectiveInject(i1.ProductService));\n};\nMaintainProductsComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: MaintainProductsComponent,\n  selectors: [[\"app-maintain-products\"]],\n  decls: 18,\n  vars: 1,\n  consts: [[4, \"ngFor\", \"ngForOf\"], [1, \"btn\", \"btn-primary\", 3, \"click\"], [1, \"btn\", \"btn-success\", 3, \"click\"], [1, \"btn\", \"btn-warning\", 3, \"routerLink\"], [1, \"btn\", \"btn-danger\", 3, \"click\"]],\n  template: function MaintainProductsComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"table\")(1, \"thead\")(2, \"th\");\n      i0.ɵɵtext(3, \"ID\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(4, \"th\");\n      i0.ɵɵtext(5, \"Name\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(6, \"th\");\n      i0.ɵɵtext(7, \"Price\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(8, \"th\");\n      i0.ɵɵtext(9, \"Category\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(10, \"th\");\n      i0.ɵɵtext(11, \"Description\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(12, \"th\");\n      i0.ɵɵtext(13, \"Stock\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(14, \"th\");\n      i0.ɵɵtext(15, \"Actions\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(16, \"tbody\");\n      i0.ɵɵtemplate(17, MaintainProductsComponent_tr_17_Template, 22, 7, \"tr\", 0);\n      i0.ɵɵelementEnd()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(17);\n      i0.ɵɵproperty(\"ngForOf\", ctx.products);\n    }\n  },\n  dependencies: [i2.NgForOf, i3.RouterLink],\n  styles: [\"table[_ngcontent-%COMP%] {\\n  width: 100%;\\n}\\n\\nth[_ngcontent-%COMP%] {\\n  background-color: lightgray;\\n}\\n\\nth[_ngcontent-%COMP%], td[_ngcontent-%COMP%] {\\n  border: 1px solid black;\\n}\\n\\nbutton[_ngcontent-%COMP%] {\\n  margin: 3px;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvYWRtaW4vbWFpbnRhaW4tcHJvZHVjdHMvbWFpbnRhaW4tcHJvZHVjdHMuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxXQUFBO0FBQ0Y7O0FBRUE7RUFDRSwyQkFBQTtBQUNGOztBQUVBO0VBQ0UsdUJBQUE7QUFDRjs7QUFFQTtFQUNFLFdBQUE7QUFDRiIsInNvdXJjZXNDb250ZW50IjpbInRhYmxlIHtcbiAgd2lkdGg6IDEwMCU7XG59XG5cbnRoIHtcbiAgYmFja2dyb3VuZC1jb2xvcjogbGlnaHRncmF5O1xufVxuXG50aCwgdGQge1xuICBib3JkZXI6IDFweCBzb2xpZCBibGFjaztcbn1cblxuYnV0dG9uIHtcbiAgbWFyZ2luOiAzcHg7XG59Il0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"names":["i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵlistener","MaintainProductsComponent_tr_17_Template_button_click_14_listener","restoredCtx","ɵɵrestoreView","_r3","product_r1","$implicit","ctx_r2","ɵɵnextContext","ɵɵresetView","decreaseStock","MaintainProductsComponent_tr_17_Template_button_click_16_listener","ctx_r4","increaseStock","MaintainProductsComponent_tr_17_Template_button_click_20_listener","ctx_r5","deleteProduct","ɵɵadvance","ɵɵtextInterpolate","id","name","ɵɵtextInterpolate1","price","category","description","stock","ɵɵpropertyInterpolate1","MaintainProductsComponent","constructor","prodcuctService","products","ngOnInit","getProducts","subscribe","res","product","ɵɵdirectiveInject","i1","ProductService","selectors","decls","vars","consts","template","MaintainProductsComponent_Template","rf","ctx","ɵɵtemplate","MaintainProductsComponent_tr_17_Template","ɵɵproperty"],"sources":["/Users/krkara/Documents/GitHub/Spring/webshop-frontend/src/app/admin/maintain-products/maintain-products.component.ts","/Users/krkara/Documents/GitHub/Spring/webshop-frontend/src/app/admin/maintain-products/maintain-products.component.html"],"sourcesContent":["import { ProductService } from 'src/app/services/product.service';\nimport { HttpClient } from '@angular/common/http';\nimport { Component } from '@angular/core';\nimport { Product } from 'src/app/models/product.model';\n\n@Component({\n  selector: 'app-maintain-products',\n  templateUrl: './maintain-products.component.html',\n  styleUrls: ['./maintain-products.component.scss']\n})\nexport class MaintainProductsComponent {\n\n  products: Product[] = [];\n\n  constructor(private prodcuctService : ProductService) {} // Dependency Injection\n\n  ngOnInit() { // reserveeritud funktsioon ComponentDidMount\n    this.prodcuctService.getProducts().subscribe(res => \n      this.products = res\n    );\n  }\n  \n  deleteProduct(product: Product) {\n    this.prodcuctService.deleteProduct(product).subscribe(res => \n      this.products = res\n    );\n  }\n\n  decreaseStock(product: Product) {\n    this.prodcuctService.decreaseStock(product);\n  }\n\n  increaseStock(product: Product) {\n    this.prodcuctService.increaseStock(product);\n  }\n}\n","<table>\n  <thead>\n    <th>ID</th>\n    <th>Name</th>\n    <th>Price</th>\n    <th>Category</th>\n    <th>Description</th>\n    <th>Stock</th>\n    <th>Actions</th>\n  </thead>\n  <tbody>\n    <tr *ngFor=\"let product of products\">\n      <td>{{ product.id }}</td>\n      <td>{{ product.name }}</td>\n      <td>{{ product.price }} €</td>\n      <td>{{ product.category.name }}</td>\n      <td>{{ product.description }}</td>\n      <td>{{ product.stock }}</td>\n      <td>\n        <button class=\"btn btn-primary\" (click)=\"decreaseStock(product)\">Vähenda kogust</button>\n        <button class=\"btn btn-success\" (click)=\"increaseStock(product)\">Suurenda kogust</button>\n        <button class=\"btn btn-warning\" routerLink=\"/muuda-toode/{{product.id}}\">Muuda toodet</button>\n        <button class=\"btn btn-danger\" (click)=\"deleteProduct(product)\">Eemalda toode</button>\n      </td>\n    </tr>\n  </tbody>\n</table>"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}